
Игровой движок RECO

Вот краткий список возможностей движка. В список не включены стандартные функции
(выдача заданий, прием кодов, подсчет времени игры и т.п.),
характерные для всех популярных игровых движков.

1. Задания можно объединять в группы. Внутри группы задания могут выдаваться параллельно
("штурм"), последовательно ("линейка"), в случайном порядке ("нелинейка"), в случайном порядке
с приоритетами ("нелинейка", но можно, к примеру, выдавать агентские задания первыми).
Кроме того, есть возможность оставить выбор порядка прохождения самому игроку.
При случайной выдаче заданий движок стремится в первую очередь выдавать наиболее свободные уровни.

2. Группы могут включать как обычные задания и бонусы, так и другие группы.
Вложенность ограничена только мощностью сервера, на котором работает движок
(чем сложнее игра, тем медленнее движок будет работать). На практике тестировалась
вложенность до 5 групп, при этом проведение такой игры для 11 команд
занимало около 25% ресурсов на VDS-сервере 1000Mhz, 512Mb RAM.

3. Бонусные задания могут выдаваться как по абсолютному времени, так и в привязке
к определенным игровым событиям (вместе с определенным заданием, или через N секунд после его начала).
Ограничение времени на выполнения бонуса также может задаваться как абсолютное (N секунд),
так и относительное (не более N секунд после завершения связанного задания).
Время прохождения бонусных заданий не включается в общее игровое время, учитывается
только значение "бонусного времени", установленное для бонуса (при этом, статистика отражает
реальное время взятия бонуса).

4. Подробнейший протокол игр, фиксирующий все игровые события и некоторые важные подробности
(к примеру, фиксируются попытки ввода кодов с невыданных заданий).

5. Организатор игры может "откатить" любое событие, если оно произошло по ошибке.
При этом дальнейший ход игры нарушен не будет.

6. Любое количество подсказок, любое время их выдачи, любые лимиты времени на задания
или группы заданий.

7. Автообновления страницы игрока с учётом наличия связи с интернетом
(т.е. при отсутствии связи игрок не получит пустую страницу).
Администратор игры может при желании принудительно включить обновление страницы игрока
практически в реальном времени.

8. Гибкая ручная выдача заданий: немедленно, или при наступлении определенного события
(выдача или завершения другого задания). Возможность составлять списки ручной выдачи
неограниченной длины (в том числе, до начала игры).

9. Ручной зачёт и слив уровней.

10. Поддержка составных кодов и "слив-кодов". В случае составных кодов игрок
видит их общее количество, число ещё не введенных кодов, а также список кодов,
которые уже вводились и были приняты. Ввод составных кодов осуществляется по очереди,
через одно окно ввода кода.

11. Мультилогин: несколько человек могут смотреть движок под одной учётной записью.

12. Ручные бонусы и штрафы, которые администратор может назначать в процессе игры
(и они сразу попадут в статистику).

13. Поддержка "игр от команд" с разделением прав доступа к движку (команда
имеет доступ только к "своим" играм, администратор - ко всем).

14. Вывод времени до ближайшей подсказки и счетчик времени на уровне.
При наступлении времени выдачи подсказки, а также при сливе уровня
движок обновляется автоматически (при наличии связи с интернетом).

15. Настраиваемая функция "уточните код". По умолчанию срабатывает при несоответствии одного знака.
Можно задать любое допустимое количество несоотвествующих знаков.
Кроме прямого несоответствия (напр., D123L и D223L) учитывается также смещение
на допустимое количество знаков влево или вправо (напр., D23L и D123L).

16. Поддержка тестовых игр (все лимиты и таймеры умножаются на заданный коэффициент,
чтобы можно было быстро пройти игру "по сливам" при тестировании). Возможность
полностью откатить проведенную тестовую игру, чтобы вновь играть уже в "боевом"
режиме по той же схеме.

17. Проверка структуры игры (специальный скрипт проверяет основные параметры игры,
например, нет ли заданий с неуказанным кодом, отсутствием подсказок и т.п.).

18. Принудительное завершение игры администратором.

--------------------------------

Как движок устроен?

У движка есть несколько интерфейсов.

Первый - интерфейс администратора (или организатора игры). Он позволяет создавать игры, добавлять в них
задания, указывать подсказки и так далее. Работает по ссылке "интерфейс администратора".

Второй - статистика + интерфейс хода игры. Работает по ссылкам "управление игрой" и "статистика".
Показывет статистику (в процессе игры - только админу или автору игры), а также позволяет назначать задания
вручную, сливать задания, начислять штрафы и бонусы и так далее.

Третий - интерфейс игрока. Выдает задания, принимает коды. Работает по ссылке "играть".

Четвертый - лог игры. Командам дается доступ только к той части лога, которая касается их действий,
админ и автор игры видет лог целиком. Работает по ссылке "протокол игр".

Таким образом, работа с движком выглядит следующим образом:

- администратор добавляет в движок пользователей (через страницу "создание и редактирование игр")
- администратор или один из пользователей создает игру (там же)
- другие пользователи в неё играют (через страницу "играть!")

Интерфейс редактирования игр позволяет создавать игры разной структуры и сложности. Общий принцип
работы: в разделе "игры" создается новая игра (нужно поставить галку рядом с разделом "игры",
выбрать внизу тип "игра" и нажать "добавить страницу". Потом в игру аналогичным образом добавляются
группы заданий, в них - задания, а в задания - подсказки.

Группы заданий нужны для того, чтобы структурировать задания. Например, группой может быть
основная или бонусная ветвь игры. Для каждой группы можно задавать порядок выдачи заданий в ней:
последовательный, параллельный, случайный, случайный с приоритетами и выбор порядка прохождения игроком.

Важный нюанс: бонусы добавляются в движок так же, как и обычные задания, но для таких заданий
нужно проставлять "тип задания" - 1 (бонус). В таком случае прохождение этого задания не будет
влиять на выдачу следующего, время не будет учтено в статистике, а при успешном прохождении
будет автоматически начислен временной бонус.

